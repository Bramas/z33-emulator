{"version":3,"file":"index.js","sources":["../.__rollup-plugin-rust__z33_web/index.js","../app/instructions.js","../node_modules/entities/lib/decode_codepoint.js","../node_modules/entities/lib/decode.js","../node_modules/entities/lib/encode.js","../node_modules/ansi-to-html/lib/ansi_to_html.js","../node_modules/entities/lib/index.js","../app/index.ts"],"sourcesContent":["let wasm;\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nconst cachedTextDecoder = (typeof TextDecoder !== 'undefined' ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true }) : { decode: () => { throw Error('TextDecoder not available') } } );\n\nif (typeof TextDecoder !== 'undefined') { cachedTextDecoder.decode(); };\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction getObject(idx) { return heap[idx]; }\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst cachedTextEncoder = (typeof TextEncoder !== 'undefined' ? new TextEncoder('utf-8') : { encode: () => { throw Error('TextEncoder not available') } } );\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n/**\n* @param {string} source\n* @returns {any}\n*/\nexport function dump(source) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(source, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.dump(retptr, ptr0, len0);\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var r2 = getInt32Memory0()[retptr / 4 + 2];\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return takeObject(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbg_new_16b304a2cfa7ff4a = function() {\n        const ret = new Array();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_number_new = function(arg0) {\n        const ret = arg0;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_d4638f722068f043 = function(arg0, arg1, arg2) {\n        getObject(arg0)[arg1 >>> 0] = takeObject(arg2);\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        const ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_72fb9a18b5ae2624 = function() {\n        const ret = new Object();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_20cbc34131e76824 = function(arg0, arg1, arg2) {\n        getObject(arg0)[takeObject(arg1)] = takeObject(arg2);\n    };\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {\n        const ret = getObject(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n\n    return imports;\n}\n\nfunction __wbg_init_memory(imports, maybe_memory) {\n\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedInt32Memory0 = null;\n    cachedUint8Memory0 = null;\n\n\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n    const imports = __wbg_get_imports();\n\n    __wbg_init_memory(imports);\n\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n\n    const instance = new WebAssembly.Instance(module, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(input) {\n    if (wasm !== undefined) return wasm;\n\n\n    const imports = __wbg_get_imports();\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n    __wbg_init_memory(imports);\n\n    const { instance, module } = await __wbg_load(await input, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync }\nexport default __wbg_init;\n","\nconst Instructions = [\n    /// Add a value to a register\n    'add',\n    /// Bitwise `and` with a given value\n    'and',\n    /// Push `%pc` and go to the given address\n    'call',\n    /// Compare a value with a register\n    'cmp',\n    /// Divide a register by a value\n    'div',\n    /// Load a memory cell to a register and set this cell to 1\n    'fas',\n    /// Read a value from an I/O controller\n    'in',\n    /// Unconditional jump\n    'jmp',\n    /// Jump if equal\n    'jeq',\n    /// Jump if not equal\n    'jne',\n    /// Jump if less or equal\n    'jle',\n    /// Jump if strictly less\n    'jlt',\n    /// Jump if greater of equal\n    'jge',\n    /// Jump if strictly greater\n    'jgt',\n    /// Load a register with a value\n    'ld',\n    /// Multiply a value to a register\n    'mul',\n    'neg',\n    /// No-op\n    'nop',\n    /// Bitwise negation of a register\n    'not',\n    /// Bitwise `or` with a given value\n    'or',\n    /// Write a value to an I/O controller\n    'out',\n    /// Pop a value from the stack\n    'pop',\n    /// Push a value into the stack\n    'push',\n    /// Reset the computer\n    'reset',\n    /// Return from an interrupt or an exception\n    'rti',\n    /// Return from a `call`\n    'rtn',\n    /// Bitshift to the left\n    'shl',\n    /// Bitshift to the right\n    'shr',\n    /// Store a register value in memory\n    'st',\n    /// Substract a value from a register\n    'sub',\n    /// Swap a value and a register\n    'swap',\n    /// Start a `trap` exception\n    'trap',\n    /// Bitwise `xor` with a given value\n    'xor',\n]\n\n\n\n\n\n\nexport default function(monaco) {\n    monaco.languages.register({ id: \"z33\" });\n\n       \n    // Register a tokens provider for the language\n    monaco.languages.setMonarchTokensProvider(\"z33\", {\n\t\tincludeLF: true,\n        tokenizer: {\n            root: [\n                [new RegExp('\\\\s('+Instructions.join('|')+')\\\\b'), \"command\", \"@command\"],\n                [new RegExp('^('+Instructions.join('|')+')\\\\b'), \"command\", \"@command\"],\n                [/[\\w_]+:/, \"label\"],\n                [/#\\w+/, \"macro\"],\n                [/\\.\\w+/, \"macro\"],\n                {include: '@constants'},\n                {include: '@comments'},\n            ],\n            command: [\n                [/\\n$/, \"endofline\", \"@pop\"],\n                [/(\\w|%)+[^a-zA-Z0-9_,\\/]+(\\w|%)+/, \"error-missing-comma\", \"@pop\"],\n                [/\\[[^\\]]*\\][^a-zA-Z0-9_,\\/]+(\\w|%)+/, \"error-missing-comma\", \"@pop\"],\n                [/(\\w|%)+[^a-zA-Z0-9_,\\/]+\\[[^\\]]*\\]/, \"error-missing-comma\", \"@pop\"],\n                [/\\[/,\"operator\", \"@idx\"],\n                [/,/,\"operator\"],\n                {include: '@constants'},\n                {include: '@comments'},\n                {include: '@registers'},\n            ],\n            constants: [\n                [/[0-9]+/, \"number\"],\n            ],\n            comments: [\n                [/\\/\\/.*/, \"comment\"],\n            ],\n\t\t\tregisters: [\n                [/%(a|b|sp|pc)\\b/, \"register\"],\n                [/%[^ab]\\b/, \"error\"],\n                [/%s[^p]/, \"error\"],\n                [/%p[^c]/, \"error\"],\n                [/%[^absp]/, \"error\"],\n\t\t\t],\n\t\t\tidx: [\n\t\t\t\t[/\\]/, \"operator\", \"@pop\"],\n\t\t\t\t[/[^a-zA-Z0-9\\-+% \\t\\]][^\\n]*/, {token: \"error\", next: '@pop'} ],\n                {include: '@constants'},\n                {include: '@registers'},\n\t\t\t],\n        },\n    });\n    monaco.editor.defineTheme(\"z33-theme\", {\n        base: \"vs-dark\",\n        inherit: true,\n        rules: [\n            { token: \"number\", foreground: \"d98fca\", fontStyle: \"bold\" },\n            { token: \"command\", foreground: \"ffffff\", fontStyle: \"bold\" },\n            { token: \"register\", foreground: \"7693d9\", fontStyle: \"bold\" },\n            { token: \"label\", foreground: \"ffc14f\"},\n            { token: \"comment\", foreground: \"737373\"},\n            { token: \"macro\", foreground: \"826a51\"},\n            { token: \"operator\", foreground: \"b9b900\"},\n            { token: \"error\", foreground: \"ff0000\"},\n\t\t\t{ token: \"error-missing-comma\", foreground: \"ff0000\"},\n        ],\n        colors: {\n            //\"editor.foreground\": \"#000000\",\n        },\n    });\n    \n    //not working but I don't know why\n    monaco.languages.registerCompletionItemProvider(\"z33\", {\n        provideCompletionItems: (model, position) => {\n            var word = model.getWordUntilPosition(position);\n            var range = {\n                startLineNumber: position.lineNumber,\n                endLineNumber: position.lineNumber,\n                startColumn: word.startColumn,\n                endColumn: word.endColumn,\n            };\n            const suggestions = Instructions.map((inst) => ({\n                label: inst,\n                kind: monaco.languages.CompletionItemKind.Text,\n                insertText: inst,\n                range: range,\n            }))\n            return { suggestions: suggestions };\n        },\n    });\n}","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// Adapted from https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nvar fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.fromCodePoint ||\n    function (codePoint) {\n        var output = \"\";\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    return fromCodePoint(codePoint);\n}\nexports.default = decodeCodePoint;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nvar strictEntityRe = /&(?:[a-zA-Z0-9]+|#[xX][\\da-fA-F]+|#\\d+);/g;\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var replace = getReplacer(map);\n    return function (str) { return String(str).replace(strictEntityRe, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    // TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        return map[str.slice(1, -1)] || str;\n    };\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeXML = getASCIIEncoder(inverseXML);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\n/**\n * Encodes all entities and non-ASCII characters in the input.\n *\n * This includes characters that are valid ASCII characters in HTML documents.\n * For example `#` will be encoded as `&num;`. To get a more compact output,\n * consider using the `encodeNonAsciiHTML` function.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in HTML\n * documents using HTML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeNonAsciiHTML = getASCIIEncoder(inverseHTML);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n// /[^\\0-\\x7F]/gu\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nvar getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        function (str) { return str.codePointAt(0); }\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        function (c) {\n            return (c.charCodeAt(0) - 0xd800) * 0x400 +\n                c.charCodeAt(1) -\n                0xdc00 +\n                0x10000;\n        };\nfunction singleCharReplacer(c) {\n    return \"&#x\" + (c.length > 1 ? getCodePoint(c) : c.charCodeAt(0))\n        .toString(16)\n        .toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reEscapeChars = new RegExp(xmlReplacer.source + \"|\" + reNonASCII.source, \"g\");\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nfunction escape(data) {\n    return data.replace(reEscapeChars, singleCharReplacer);\n}\nexports.escape = escape;\n/**\n * Encodes all characters not valid in XML documents using numeric hexadecimal\n * reference (eg. `&#xfc;`).\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nfunction escapeUTF8(data) {\n    return data.replace(xmlReplacer, singleCharReplacer);\n}\nexports.escapeUTF8 = escapeUTF8;\nfunction getASCIIEncoder(obj) {\n    return function (data) {\n        return data.replace(reEscapeChars, function (c) { return obj[c] || singleCharReplacer(c); });\n    };\n}\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar entities = require('entities');\n\nvar defaults = {\n  fg: '#FFF',\n  bg: '#000',\n  newline: false,\n  escapeXML: false,\n  stream: false,\n  colors: getDefaultColors()\n};\n\nfunction getDefaultColors() {\n  var colors = {\n    0: '#000',\n    1: '#A00',\n    2: '#0A0',\n    3: '#A50',\n    4: '#00A',\n    5: '#A0A',\n    6: '#0AA',\n    7: '#AAA',\n    8: '#555',\n    9: '#F55',\n    10: '#5F5',\n    11: '#FF5',\n    12: '#55F',\n    13: '#F5F',\n    14: '#5FF',\n    15: '#FFF'\n  };\n  range(0, 5).forEach(function (red) {\n    range(0, 5).forEach(function (green) {\n      range(0, 5).forEach(function (blue) {\n        return setStyleColor(red, green, blue, colors);\n      });\n    });\n  });\n  range(0, 23).forEach(function (gray) {\n    var c = gray + 232;\n    var l = toHexString(gray * 10 + 8);\n    colors[c] = '#' + l + l + l;\n  });\n  return colors;\n}\n/**\n * @param {number} red\n * @param {number} green\n * @param {number} blue\n * @param {object} colors\n */\n\n\nfunction setStyleColor(red, green, blue, colors) {\n  var c = 16 + red * 36 + green * 6 + blue;\n  var r = red > 0 ? red * 40 + 55 : 0;\n  var g = green > 0 ? green * 40 + 55 : 0;\n  var b = blue > 0 ? blue * 40 + 55 : 0;\n  colors[c] = toColorHexString([r, g, b]);\n}\n/**\n * Converts from a number like 15 to a hex string like 'F'\n * @param {number} num\n * @returns {string}\n */\n\n\nfunction toHexString(num) {\n  var str = num.toString(16);\n\n  while (str.length < 2) {\n    str = '0' + str;\n  }\n\n  return str;\n}\n/**\n * Converts from an array of numbers like [15, 15, 15] to a hex string like 'FFF'\n * @param {[red, green, blue]} ref\n * @returns {string}\n */\n\n\nfunction toColorHexString(ref) {\n  var results = [];\n\n  var _iterator = _createForOfIteratorHelper(ref),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var r = _step.value;\n      results.push(toHexString(r));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return '#' + results.join('');\n}\n/**\n * @param {Array} stack\n * @param {string} token\n * @param {*} data\n * @param {object} options\n */\n\n\nfunction generateOutput(stack, token, data, options) {\n  var result;\n\n  if (token === 'text') {\n    result = pushText(data, options);\n  } else if (token === 'display') {\n    result = handleDisplay(stack, data, options);\n  } else if (token === 'xterm256Foreground') {\n    result = pushForegroundColor(stack, options.colors[data]);\n  } else if (token === 'xterm256Background') {\n    result = pushBackgroundColor(stack, options.colors[data]);\n  } else if (token === 'rgb') {\n    result = handleRgb(stack, data);\n  }\n\n  return result;\n}\n/**\n * @param {Array} stack\n * @param {string} data\n * @returns {*}\n */\n\n\nfunction handleRgb(stack, data) {\n  data = data.substring(2).slice(0, -1);\n  var operation = +data.substr(0, 2);\n  var color = data.substring(5).split(';');\n  var rgb = color.map(function (value) {\n    return ('0' + Number(value).toString(16)).substr(-2);\n  }).join('');\n  return pushStyle(stack, (operation === 38 ? 'color:#' : 'background-color:#') + rgb);\n}\n/**\n * @param {Array} stack\n * @param {number} code\n * @param {object} options\n * @returns {*}\n */\n\n\nfunction handleDisplay(stack, code, options) {\n  code = parseInt(code, 10);\n  var codeMap = {\n    '-1': function _() {\n      return '<br/>';\n    },\n    0: function _() {\n      return stack.length && resetStyles(stack);\n    },\n    1: function _() {\n      return pushTag(stack, 'b');\n    },\n    3: function _() {\n      return pushTag(stack, 'i');\n    },\n    4: function _() {\n      return pushTag(stack, 'u');\n    },\n    8: function _() {\n      return pushStyle(stack, 'display:none');\n    },\n    9: function _() {\n      return pushTag(stack, 'strike');\n    },\n    22: function _() {\n      return pushStyle(stack, 'font-weight:normal;text-decoration:none;font-style:normal');\n    },\n    23: function _() {\n      return closeTag(stack, 'i');\n    },\n    24: function _() {\n      return closeTag(stack, 'u');\n    },\n    39: function _() {\n      return pushForegroundColor(stack, options.fg);\n    },\n    49: function _() {\n      return pushBackgroundColor(stack, options.bg);\n    },\n    53: function _() {\n      return pushStyle(stack, 'text-decoration:overline');\n    }\n  };\n  var result;\n\n  if (codeMap[code]) {\n    result = codeMap[code]();\n  } else if (4 < code && code < 7) {\n    result = pushTag(stack, 'blink');\n  } else if (29 < code && code < 38) {\n    result = pushForegroundColor(stack, options.colors[code - 30]);\n  } else if (39 < code && code < 48) {\n    result = pushBackgroundColor(stack, options.colors[code - 40]);\n  } else if (89 < code && code < 98) {\n    result = pushForegroundColor(stack, options.colors[8 + (code - 90)]);\n  } else if (99 < code && code < 108) {\n    result = pushBackgroundColor(stack, options.colors[8 + (code - 100)]);\n  }\n\n  return result;\n}\n/**\n * Clear all the styles\n * @returns {string}\n */\n\n\nfunction resetStyles(stack) {\n  var stackClone = stack.slice(0);\n  stack.length = 0;\n  return stackClone.reverse().map(function (tag) {\n    return '</' + tag + '>';\n  }).join('');\n}\n/**\n * Creates an array of numbers ranging from low to high\n * @param {number} low\n * @param {number} high\n * @returns {Array}\n * @example range(3, 7); // creates [3, 4, 5, 6, 7]\n */\n\n\nfunction range(low, high) {\n  var results = [];\n\n  for (var j = low; j <= high; j++) {\n    results.push(j);\n  }\n\n  return results;\n}\n/**\n * Returns a new function that is true if value is NOT the same category\n * @param {string} category\n * @returns {function}\n */\n\n\nfunction notCategory(category) {\n  return function (e) {\n    return (category === null || e.category !== category) && category !== 'all';\n  };\n}\n/**\n * Converts a code into an ansi token type\n * @param {number} code\n * @returns {string}\n */\n\n\nfunction categoryForCode(code) {\n  code = parseInt(code, 10);\n  var result = null;\n\n  if (code === 0) {\n    result = 'all';\n  } else if (code === 1) {\n    result = 'bold';\n  } else if (2 < code && code < 5) {\n    result = 'underline';\n  } else if (4 < code && code < 7) {\n    result = 'blink';\n  } else if (code === 8) {\n    result = 'hide';\n  } else if (code === 9) {\n    result = 'strike';\n  } else if (29 < code && code < 38 || code === 39 || 89 < code && code < 98) {\n    result = 'foreground-color';\n  } else if (39 < code && code < 48 || code === 49 || 99 < code && code < 108) {\n    result = 'background-color';\n  }\n\n  return result;\n}\n/**\n * @param {string} text\n * @param {object} options\n * @returns {string}\n */\n\n\nfunction pushText(text, options) {\n  if (options.escapeXML) {\n    return entities.encodeXML(text);\n  }\n\n  return text;\n}\n/**\n * @param {Array} stack\n * @param {string} tag\n * @param {string} [style='']\n * @returns {string}\n */\n\n\nfunction pushTag(stack, tag, style) {\n  if (!style) {\n    style = '';\n  }\n\n  stack.push(tag);\n  return \"<\".concat(tag).concat(style ? \" style=\\\"\".concat(style, \"\\\"\") : '', \">\");\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction pushStyle(stack, style) {\n  return pushTag(stack, 'span', style);\n}\n\nfunction pushForegroundColor(stack, color) {\n  return pushTag(stack, 'span', 'color:' + color);\n}\n\nfunction pushBackgroundColor(stack, color) {\n  return pushTag(stack, 'span', 'background-color:' + color);\n}\n/**\n * @param {Array} stack\n * @param {string} style\n * @returns {string}\n */\n\n\nfunction closeTag(stack, style) {\n  var last;\n\n  if (stack.slice(-1)[0] === style) {\n    last = stack.pop();\n  }\n\n  if (last) {\n    return '</' + style + '>';\n  }\n}\n/**\n * @param {string} text\n * @param {object} options\n * @param {function} callback\n * @returns {Array}\n */\n\n\nfunction tokenize(text, options, callback) {\n  var ansiMatch = false;\n  var ansiHandler = 3;\n\n  function remove() {\n    return '';\n  }\n\n  function removeXterm256Foreground(m, g1) {\n    callback('xterm256Foreground', g1);\n    return '';\n  }\n\n  function removeXterm256Background(m, g1) {\n    callback('xterm256Background', g1);\n    return '';\n  }\n\n  function newline(m) {\n    if (options.newline) {\n      callback('display', -1);\n    } else {\n      callback('text', m);\n    }\n\n    return '';\n  }\n\n  function ansiMess(m, g1) {\n    ansiMatch = true;\n\n    if (g1.trim().length === 0) {\n      g1 = '0';\n    }\n\n    g1 = g1.trimRight(';').split(';');\n\n    var _iterator2 = _createForOfIteratorHelper(g1),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var g = _step2.value;\n        callback('display', g);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return '';\n  }\n\n  function realText(m) {\n    callback('text', m);\n    return '';\n  }\n\n  function rgb(m) {\n    callback('rgb', m);\n    return '';\n  }\n  /* eslint no-control-regex:0 */\n\n\n  var tokens = [{\n    pattern: /^\\x08+/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[012]?K/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[\\(B/,\n    sub: remove\n  }, {\n    pattern: /^\\x1b\\[[34]8;2;\\d+;\\d+;\\d+m/,\n    sub: rgb\n  }, {\n    pattern: /^\\x1b\\[38;5;(\\d+)m/,\n    sub: removeXterm256Foreground\n  }, {\n    pattern: /^\\x1b\\[48;5;(\\d+)m/,\n    sub: removeXterm256Background\n  }, {\n    pattern: /^\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\r+\\n/,\n    sub: newline\n  }, {\n    pattern: /^\\r/,\n    sub: newline\n  }, {\n    pattern: /^\\x1b\\[((?:\\d{1,3};?)+|)m/,\n    sub: ansiMess\n  }, {\n    // CSI n J\n    // ED - Erase in Display Clears part of the screen.\n    // If n is 0 (or missing), clear from cursor to end of screen.\n    // If n is 1, clear from cursor to beginning of the screen.\n    // If n is 2, clear entire screen (and moves cursor to upper left on DOS ANSI.SYS).\n    // If n is 3, clear entire screen and delete all lines saved in the scrollback buffer\n    //   (this feature was added for xterm and is supported by other terminal applications).\n    pattern: /^\\x1b\\[\\d?J/,\n    sub: remove\n  }, {\n    // CSI n ; m f\n    // HVP - Horizontal Vertical Position Same as CUP\n    pattern: /^\\x1b\\[\\d{0,3};\\d{0,3}f/,\n    sub: remove\n  }, {\n    // catch-all for CSI sequences?\n    pattern: /^\\x1b\\[?[\\d;]{0,3}/,\n    sub: remove\n  }, {\n    /**\n     * extracts real text - not containing:\n     * - `\\x1b' - ESC - escape (Ascii 27)\n     * - '\\x08' - BS - backspace (Ascii 8)\n     * - `\\n` - Newline - linefeed (LF) (ascii 10)\n     * - `\\r` - Windows Carriage Return (CR)\n     */\n    pattern: /^(([^\\x1b\\x08\\r\\n])+)/,\n    sub: realText\n  }];\n\n  function process(handler, i) {\n    if (i > ansiHandler && ansiMatch) {\n      return;\n    }\n\n    ansiMatch = false;\n    text = text.replace(handler.pattern, handler.sub);\n  }\n\n  var results1 = [];\n  var _text = text,\n      length = _text.length;\n\n  outer: while (length > 0) {\n    for (var i = 0, o = 0, len = tokens.length; o < len; i = ++o) {\n      var handler = tokens[i];\n      process(handler, i);\n\n      if (text.length !== length) {\n        // We matched a token and removed it from the text. We need to\n        // start matching *all* tokens against the new text.\n        length = text.length;\n        continue outer;\n      }\n    }\n\n    if (text.length === length) {\n      break;\n    }\n\n    results1.push(0);\n    length = text.length;\n  }\n\n  return results1;\n}\n/**\n * If streaming, then the stack is \"sticky\"\n *\n * @param {Array} stickyStack\n * @param {string} token\n * @param {*} data\n * @returns {Array}\n */\n\n\nfunction updateStickyStack(stickyStack, token, data) {\n  if (token !== 'text') {\n    stickyStack = stickyStack.filter(notCategory(categoryForCode(data)));\n    stickyStack.push({\n      token: token,\n      data: data,\n      category: categoryForCode(data)\n    });\n  }\n\n  return stickyStack;\n}\n\nvar Filter = /*#__PURE__*/function () {\n  /**\n   * @param {object} options\n   * @param {string=} options.fg The default foreground color used when reset color codes are encountered.\n   * @param {string=} options.bg The default background color used when reset color codes are encountered.\n   * @param {boolean=} options.newline Convert newline characters to `<br/>`.\n   * @param {boolean=} options.escapeXML Generate HTML/XML entities.\n   * @param {boolean=} options.stream Save style state across invocations of `toHtml()`.\n   * @param {(string[] | {[code: number]: string})=} options.colors Can override specific colors or the entire ANSI palette.\n   */\n  function Filter(options) {\n    _classCallCheck(this, Filter);\n\n    options = options || {};\n\n    if (options.colors) {\n      options.colors = Object.assign({}, defaults.colors, options.colors);\n    }\n\n    this.options = Object.assign({}, defaults, options);\n    this.stack = [];\n    this.stickyStack = [];\n  }\n  /**\n   * @param {string | string[]} input\n   * @returns {string}\n   */\n\n\n  _createClass(Filter, [{\n    key: \"toHtml\",\n    value: function toHtml(input) {\n      var _this = this;\n\n      input = typeof input === 'string' ? [input] : input;\n      var stack = this.stack,\n          options = this.options;\n      var buf = [];\n      this.stickyStack.forEach(function (element) {\n        var output = generateOutput(stack, element.token, element.data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n      });\n      tokenize(input.join(''), options, function (token, data) {\n        var output = generateOutput(stack, token, data, options);\n\n        if (output) {\n          buf.push(output);\n        }\n\n        if (options.stream) {\n          _this.stickyStack = updateStickyStack(_this.stickyStack, token, data);\n        }\n      });\n\n      if (stack.length) {\n        buf.push(resetStyles(stack));\n      }\n\n      return buf.join('');\n    }\n  }]);\n\n  return Filter;\n}();\n\nmodule.exports = Filter;\n//# sourceMappingURL=ansi_to_html.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeXML` or `decodeHTML` directly.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeHTMLStrict` or `decodeXML` directly.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `encodeHTML`, `encodeXML` or `encodeNonAsciiHTML` directly.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeNonAsciiHTML\", { enumerable: true, get: function () { return encode_2.encodeNonAsciiHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\nObject.defineProperty(exports, \"escapeUTF8\", { enumerable: true, get: function () { return encode_2.escapeUTF8; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n","import \"./style.css\";\nimport bindings from \"z33-web-bindings\";\nimport registerLanguage from './instructions';\nimport AnsiConverter from 'ansi-to-html';\nconst ansiConverter = new AnsiConverter();\n\nconst samples = {\n  directives: () => import(\"../../samples/directives.S\"),\n  fact: () => import(\"../../samples/fact.S\"),\n  handler: () => import(\"../../samples/handler.S\"),\n};\n\ntype Output = {\n  preprocessed?: Array<[number, string]>;\n  error?: string;\n  memory?: Array<[number, string]>;\n  registers?: string;\n  instructions?: Array<string>;\n};\n\nconst createSection = (title: string, parent: Element): HTMLOutputElement => {\n  const section = document.createElement(\"section\");\n  const heading = document.createElement(\"h4\");\n  heading.appendChild(document.createTextNode(title));\n  const output = document.createElement(\"output\");\n  section.appendChild(heading);\n  section.appendChild(output);\n  parent.appendChild(section);\n  return output;\n};\n\n\nconst createErrorSection = (title: string, parent: Element): HTMLDivElement => {\n  const section = document.createElement(\"section\");\n  const heading = document.createElement(\"h4\");\n  heading.appendChild(document.createTextNode(title));\n  const output = document.createElement(\"div\");\n  section.appendChild(heading);\n  section.appendChild(output);\n  parent.appendChild(section);\n  return output;\n};\n\n(async () => {\n  const root = document.createElement(\"main\");\n\n  const editorContainer = document.createElement(\"div\");\n  editorContainer.classList.add(\"editor-container\");\n  editorContainer.classList.add(\"loading\");\n  root.appendChild(editorContainer);\n  const result = document.createElement(\"pre\");\n  result.classList.add(\"result\");\n  root.appendChild(result);\n\n  const consoleOutput = createErrorSection(\"Console\", result);\n  const memoryOutput = createSection(\"Memory\", result);\n  const instructionsOutput = createSection(\"Instructions\", result);\n  const preprocessorOutput = createSection(\"Preprocessor\", result);\n  consoleOutput.innerHTML = \"Loading compiler...\";\n\n  document.body.appendChild(root);\n\n  const { dump } = await bindings();\n\n  const monaco = await import(\"./monaco\");\n  editorContainer.classList.remove(\"loading\");\n\n  registerLanguage(monaco);\n\n  const model = monaco.editor.createModel(\"\", \"z33\");\n\n  const selector = document.createElement(\"div\");\n  selector.classList.add(\"selector\");\n  editorContainer.appendChild(selector);\n  selector.appendChild(document.createTextNode(\"Load sample: \"));\n\n  Object.entries(samples).forEach(([key, load]) => {\n    const button = document.createElement(\"button\");\n    button.appendChild(document.createTextNode(key));\n    button.addEventListener(\"click\", async () => {\n      if(window.confirm(\"Are you sure you want to load a sample? (it will replace your current buffer)\")) {\n        const program = await load();\n        model.setValue(program.default);\n      }\n    });\n    button.addEventListener(\"mouseover\", () => load()); // Preload on mouseover\n    selector.appendChild(button);\n  });\n\n  const editor = document.createElement(\"div\");\n  editor.classList.add(\"editor\");\n  editorContainer.appendChild(editor);\n\n  monaco.editor\n    .create(editor, {\n      automaticLayout: true,\n      theme: \"z33-theme\",\n      quickSuggestions: { other: true, strings: true }\n    })\n    .setModel(model);\n\n  const update = () => {\n    const value = model.getValue();\n    const output: Output = dump(value);\n    if(output.error) {\n      let v = output.error.replace(/\\\\u\\{1b\\}/g, \"\\\\x1b\");\n      consoleOutput.innerHTML = ansiConverter.toHtml(v);\n    } else {\n      let v = (output.registers || '-').replace(/\\\\u\\{1b\\}/g, \"\\\\x1b\");\n      consoleOutput.innerHTML = v;\n    }\n\n    preprocessorOutput.value = (output.preprocessed\n      ? output.preprocessed.map(([k, v]) => `${k}\\t${v}`).join(\"\\n\")\n      : \"-\"\n    );\n\n    instructionsOutput.value = (output.instructions || [\"-\"]).join(\"\\n\");\n    memoryOutput.value = (output.memory\n      ? output.memory.map(([k, v]) => `${k}:\\t${v}`).join(\"\\n\") \n      : \"-\"\n    );\n  };\n\n  model.onDidChangeContent(debounce(() => update(), 700));\n\n  update();\n})();\n\n// Debounce function\nfunction debounce(func: Function, wait: number, immediate: boolean = false) {\n  let timeout: any;\n  return function () {\n    const context = this;\n    const args = arguments;\n    const later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}"],"names":["wasm","heap","Array","fill","undefined","push","heap_next","length","addHeapObject","obj","idx","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","Error","cachedUint8Memory0","getUint8Memory0","byteLength","Uint8Array","memory","buffer","getStringFromWasm0","ptr","len","subarray","getObject","takeObject","ret","dropObject","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encode","encodeString","encodeInto","arg","view","buf","set","read","written","cachedInt32Memory0","getInt32Memory0","Int32Array","__wbg_get_imports","imports","wbg","__wbg_new_16b304a2cfa7ff4a","__wbindgen_number_new","arg0","__wbg_set_d4638f722068f043","arg1","arg2","__wbindgen_string_new","__wbg_new_72fb9a18b5ae2624","Object","__wbg_set_20cbc34131e76824","__wbindgen_object_drop_ref","__wbindgen_object_clone_ref","__wbindgen_throw","__wbg_finalize_init","instance","module","exports","__wbg_init","__wbindgen_wasm_module","async","input","Request","URL","fetch","Response","WebAssembly","instantiateStreaming","e","headers","get","console","warn","bytes","arrayBuffer","instantiate","Instance","__wbg_load","source","retptr","__wbindgen_add_to_stack_pointer","ptr0","malloc","realloc","mem","offset","code","charCodeAt","slice","passStringToWasm0","__wbindgen_malloc","__wbindgen_realloc","len0","dump","r0","r1","Module","Instructions","__importDefault","this","mod","__esModule","default","defineProperty","decode_codepoint","value","decode_json_1","fromCodePoint","String","codePoint","output","fromCharCode","decodeHTML","decodeHTMLStrict","entities_json_1","require$$0","legacy_json_1","require$$1","xml_json_1","require$$2","decode_codepoint_1","require$$3","strictEntityRe","getStrictDecoder","map","replace","getReplacer","str","decodeXML","sorter","a","b","charAt","secondChar","parseInt","substr","legacy","keys","sort","i","j","re","RegExp","join","replacer","escapeUTF8","escape","encodeNonAsciiHTML","encodeHTML","encodeXML","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getASCIIEncoder","inverse","inverseHTML","htmlReplacer","reduce","name","single","multiple","_i","_a","k","start","end","count","splice","unshift","data","reNonASCII","singleCharReplacer","getCodePoint","prototype","codePointAt","c","toString","toUpperCase","reEscapeChars","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","_arrayLikeToArray","n","call","constructor","from","test","_unsupportedIterableToArray","F","s","done","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","arr2","decodeXMLStrict","decodeHTML4Strict","decodeHTML5","encodeHTML5","encodeHTML4","decode_1","encode_1","level","decodeStrict","encode_2","decode_2","colors","entities","defaults","fg","bg","newline","escapeXML","stream","range","forEach","red","green","blue","r","g","ref","_step","results","_iterator","toHexString","toColorHexString","setStyleColor","gray","l","num","generateOutput","stack","token","options","result","text","pushText","codeMap","resetStyles","pushTag","pushStyle","closeTag","pushForegroundColor","pushBackgroundColor","handleDisplay","substring","operation","color","split","rgb","Number","handleRgb","stackClone","reverse","tag","low","high","categoryForCode","style","concat","last","pop","ansiConverter","Filter","Constructor","_classCallCheck","assign","stickyStack","protoProps","staticProps","_this","element","callback","ansiMatch","remove","m","tokens","pattern","sub","g1","trim","_step2","_iterator2","trimRight","process","handler","results1","outer","tokenize","category","filter","updateStickyStack","samples","directives","import","fact","createSection","title","parent","section","document","createElement","heading","appendChild","createTextNode","root","editorContainer","classList","add","consoleOutput","createErrorSection","memoryOutput","instructionsOutput","preprocessorOutput","innerHTML","body","bindings","monaco","languages","register","id","setMonarchTokensProvider","includeLF","tokenizer","include","command","constants","comments","registers","editor","defineTheme","base","inherit","rules","foreground","fontStyle","registerCompletionItemProvider","provideCompletionItems","model","position","word","getWordUntilPosition","startLineNumber","lineNumber","endLineNumber","startColumn","endColumn","suggestions","inst","label","kind","CompletionItemKind","Text","insertText","registerLanguage","createModel","selector","entries","load","button","addEventListener","window","confirm","program","setValue","create","automaticLayout","theme","quickSuggestions","other","strings","setModel","update","getValue","error","v","toHtml","preprocessed","instructions","onDidChangeContent","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce"],"mappings":"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"}